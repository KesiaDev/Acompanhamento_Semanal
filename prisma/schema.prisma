// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Fechamento {
  id                String            @id @default(cuid())
  executivo         String
  agencia           String
  qtdVisitas        Int
  qtdInteracoes     Int
  qtdBraExpre       Int
  data              DateTime          @default(now())
  createdAt         DateTime          @default(now())
  updatedAt         DateTime          @updatedAt
  credenciamentos   Credenciamento[]
  cnpjsSimulados    CnpjSimulado[]
}

model Credenciamento {
  id                String      @id @default(cuid())
  fechamentoId      String
  fechamento        Fechamento  @relation(fields: [fechamentoId], references: [id], onDelete: Cascade)
  qtdCredenciamentos Int
  ativacoesValor    Float
  ec                String      // 10 números
  volumeRS          Float
  ra                Boolean
  cesta             String
  instalaDireto     Boolean
  nomeGerentePJ     String?
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt
}

model CnpjSimulado {
  id                String      @id @default(cuid())
  fechamentoId      String
  fechamento        Fechamento  @relation(fields: [fechamentoId], references: [id], onDelete: Cascade)
  cnpj              String      // 14 números
  nomeEmpresa       String
  faturamento       Float
  comentarios       String?
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt
}

